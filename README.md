# DLS-RAG æ™ºèƒ½çŸ¥è¯†åº“ç³»ç»Ÿ

ä¸€ä¸ªåŸºäº RAG (Retrieval Augmented Generation) æŠ€æœ¯çš„å¤šæ¨¡æ€æ™ºèƒ½çŸ¥è¯†åº“ç®¡ç†ç³»ç»Ÿï¼Œæ”¯æŒæ–‡æ¡£ä¸Šä¼ ã€å‘é‡æ£€ç´¢ã€æ™ºèƒ½é—®ç­”ä¸å…¨å±€æœç´¢ã€‚

## âœ¨ åŠŸèƒ½ç‰¹æ€§

- **å¤šæ ¼å¼æ–‡æ¡£æ”¯æŒ**: æ”¯æŒ PPTã€PDFã€Wordã€Excel ç­‰å¤šç§æ–‡æ¡£æ ¼å¼çš„ä¸Šä¼ ä¸è§£æ
- **æ™ºèƒ½å‘é‡æ£€ç´¢**: åŸºäº Weaviate å‘é‡æ•°æ®åº“å®ç°è¯­ä¹‰ç›¸ä¼¼åº¦æœç´¢
- **AI æ™ºèƒ½é—®ç­”**: é›†æˆå¤§è¯­è¨€æ¨¡å‹ï¼ŒåŸºäºçŸ¥è¯†åº“å†…å®¹è¿›è¡Œæ™ºèƒ½é—®ç­”
- **PPT å¹»ç¯ç‰‡é¢„è§ˆ**: ä¸Šä¼ çš„ PPT è‡ªåŠ¨ç”Ÿæˆç¼©ç•¥å›¾ï¼Œæ”¯æŒå…¨å±é¢„è§ˆ
- **å¼‚æ­¥æ–‡ä»¶å¤„ç†**: åå°å¼‚æ­¥å¤„ç†å¤§æ–‡ä»¶ä¸Šä¼ ä¸ç´¢å¼•
- **å…¨å±€æ™ºèƒ½æœç´¢**: æ”¯æŒè·¨æ–‡æ¡£çš„å…¨å±€è¯­ä¹‰æœç´¢
- **ç”¨æˆ·æƒé™ç®¡ç†**: æ”¯æŒç”¨æˆ·æ³¨å†Œ/ç™»å½•ï¼Œç®¡ç†å‘˜ä¸æ™®é€šç”¨æˆ·è§’è‰²åŒºåˆ†

## ğŸ—ï¸ æŠ€æœ¯æ ˆ

### åç«¯

- **Flask** - Python Web æ¡†æ¶
- **Weaviate** - å‘é‡æ•°æ®åº“
- **LangChain** - LLM åº”ç”¨æ¡†æ¶
- **DashScope** - é˜¿é‡Œäº‘å¤§æ¨¡å‹æœåŠ¡
- **Sentence Transformers** - æ–‡æœ¬å‘é‡åŒ–

### å‰ç«¯

- **React 19** - å‰ç«¯æ¡†æ¶
- **TypeScript** - ç±»å‹å®‰å…¨
- **Vite** - æ„å»ºå·¥å…·
- **TailwindCSS** - æ ·å¼æ¡†æ¶
- **Radix UI** - æ— éšœç¢ç»„ä»¶åº“
- **React Router** - è·¯ç”±ç®¡ç†

### åŸºç¡€è®¾æ–½

- **Docker Compose** - å®¹å™¨ç¼–æ’
- **Weaviate + Transformers** - å‘é‡åŒ–æœåŠ¡

## ğŸ“ é¡¹ç›®ç»“æ„

```
DLS_RAG/
â”œâ”€â”€ backend/                 # åç«¯æœåŠ¡
â”‚   â”œâ”€â”€ app.py              # Flask ä¸»åº”ç”¨
â”‚   â”œâ”€â”€ config.py           # é…ç½®æ–‡ä»¶
â”‚   â”œâ”€â”€ requirements.txt    # Python ä¾èµ–
â”‚   â””â”€â”€ services/           # ä¸šåŠ¡æœåŠ¡å±‚
â”‚       â”œâ”€â”€ auth_service.py
â”‚       â”œâ”€â”€ ingestion_service.py
â”‚       â”œâ”€â”€ llm_service.py
â”‚       â””â”€â”€ vector_db.py
â”œâ”€â”€ frontend/               # å‰ç«¯åº”ç”¨
â”‚   â”œâ”€â”€ src/
â”‚   â”‚   â”œâ”€â”€ components/     # React ç»„ä»¶
â”‚   â”‚   â”œâ”€â”€ pages/          # é¡µé¢ç»„ä»¶
â”‚   â”‚   â”œâ”€â”€ context/        # Context çŠ¶æ€ç®¡ç†
â”‚   â”‚   â””â”€â”€ lib/            # å·¥å…·å‡½æ•°
â”‚   â”œâ”€â”€ package.json
â”‚   â””â”€â”€ vite.config.ts
â”œâ”€â”€ data/                   # æ•°æ®ç›®å½•
â”‚   â”œâ”€â”€ uploads/            # ä¸Šä¼ æ–‡ä»¶å­˜å‚¨
â”‚   â””â”€â”€ processed/          # å¤„ç†åçš„æ•°æ®
â”œâ”€â”€ file/                   # ç¤ºä¾‹æ–‡ä»¶ç›®å½•
â”œâ”€â”€ docker-compose.yml      # Docker ç¼–æ’é…ç½®
â””â”€â”€ start_all.bat          # Windows å¯åŠ¨è„šæœ¬
```

## ğŸš€ å¿«é€Ÿå¼€å§‹

### ç¯å¢ƒè¦æ±‚

- Python 3.10+
- Node.js 18+
- Docker & Docker Compose

### 1. å¯åŠ¨å‘é‡æ•°æ®åº“

```bash
docker-compose up -d
```

### 2. é…ç½®åç«¯

```bash
cd backend

# åˆ›å»ºè™šæ‹Ÿç¯å¢ƒ
python -m venv venv

# æ¿€æ´»è™šæ‹Ÿç¯å¢ƒ (Windows)
.\venv\Scripts\activate

# å®‰è£…ä¾èµ–
pip install -r requirements.txt

# é…ç½®ç¯å¢ƒå˜é‡
cp .env.example .env
# ç¼–è¾‘ .env æ–‡ä»¶ï¼Œå¡«å…¥ API Key
```

### 3. å¯åŠ¨åç«¯æœåŠ¡

```bash
cd backend
python app.py
```

åç«¯æœåŠ¡å°†è¿è¡Œåœ¨ `http://localhost:5000`

### 4. é…ç½®å¹¶å¯åŠ¨å‰ç«¯

```bash
cd frontend

# å®‰è£…ä¾èµ–
npm install

# å¯åŠ¨å¼€å‘æœåŠ¡å™¨
npm run dev
```

å‰ç«¯å°†è¿è¡Œåœ¨ `http://localhost:5173`

### ä¸€é”®å¯åŠ¨ (Windows)

```bash
.\start_all.bat
```

## âš™ï¸ ç¯å¢ƒå˜é‡é…ç½®

åœ¨ `backend/.env` æ–‡ä»¶ä¸­é…ç½®ä»¥ä¸‹å˜é‡ï¼š

```env
DASHSCOPE_API_KEY=your_api_key_here
```

## ğŸ“– API æ¥å£

| ç«¯ç‚¹                 | æ–¹æ³• | æè¿°         |
| -------------------- | ---- | ------------ |
| `/api/health`        | GET  | å¥åº·æ£€æŸ¥     |
| `/api/stats`         | GET  | è·å–ç»Ÿè®¡ä¿¡æ¯ |
| `/api/documents`     | GET  | è·å–æ–‡æ¡£åˆ—è¡¨ |
| `/api/upload`        | POST | ä¸Šä¼ æ–‡ä»¶     |
| `/api/query`         | POST | æ™ºèƒ½é—®ç­”     |
| `/api/search`        | GET  | å…¨å±€æœç´¢     |
| `/api/auth/login`    | POST | ç”¨æˆ·ç™»å½•     |
| `/api/auth/register` | POST | ç”¨æˆ·æ³¨å†Œ     |

## ğŸ” ç”¨æˆ·è§’è‰²

- **user**: æ™®é€šç”¨æˆ·ï¼Œå¯è¿›è¡Œé—®ç­”å’Œæµè§ˆ
- **admin**: ç®¡ç†å‘˜ï¼Œæ‹¥æœ‰ç³»ç»Ÿé…ç½®å’Œç”¨æˆ·ç®¡ç†æƒé™

## ğŸ“ å¼€å‘è®¡åˆ’

- [ ] æ”¯æŒæ›´å¤šæ–‡æ¡£æ ¼å¼
- [ ] å¯¹è¯å†å²è®°å½•
- [ ] æ–‡æ¡£ç‰ˆæœ¬ç®¡ç†
- [ ] å¤šçŸ¥è¯†åº“æ”¯æŒ

## ğŸ“„ è®¸å¯è¯

MIT License

## ğŸ¤ è´¡çŒ®æŒ‡å—

æ¬¢è¿æäº¤ Issue å’Œ Pull Requestï¼
